(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mixin-http-md"],{aaa7:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("section",{staticClass:"content reasy-doc"},[e._m(0),t("p",[e._v("用于封装 http 请求的处理，主要封装了设置和获取请求的一些通用处理。")]),e._m(1),t("p",[e._v("引入配置的时候，可以传入配置项，修改一些项目通用的基础配置。")]),e._m(2),e._m(3),e._m(4),t("demo-block",[t("template",{slot:"source"},[t("mo-demo0")],1),t("template",{slot:"highlight"},[t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"html"}},[e._v('<v-form>\n  <v-form-item label="getModules">\n    <v-checkbox-group v-model="modules" :options="options"  name="modules"></v-checkbox-group>\n    <v-button @click="getModule" size="S"  name="getModule">获取</v-button>\n  </v-form-item>\n  <v-form-item label="结果"> {{ res }} </v-form-item>\n  <v-form-item label="setModules">\n    <v-radio v-model="setModuleName" :options="options" name="setModuleName"></v-radio>\n  </v-form-item>\n\n  <v-form-item label="successMsg">\n    <v-radio v-model="successMsg" :options="successMsgOptions" name="successMsg"></v-radio>\n  </v-form-item>\n\n  <v-form-item\n    label="successCode"\n    description="一般不用单独配置，可以整个项目全局配置"\n  >\n    <v-radio v-model="successCode" :options="[0, 1]" name="successCode"></v-radio>\n  </v-form-item>\n\n  <v-form-item label="errorMsg">\n    <v-radio v-model="errorMsg" :options="errorMsgOptions" name="errorMsg"></v-radio>\n  </v-form-item>\n\n  <v-form-item label="0时候的失败的词条" description="自定义错误对象">\n    <v-input v-model="costomError0" name="costomError0"></v-input>\n  </v-form-item>\n\n  <v-form-item label="setModules">\n    <v-button @click="setModule" size="S" name="setModule">设置</v-button>\n  </v-form-item>\n  <v-form-item label="结果"> {{ resSet }} </v-form-item>\n</v-form>\n\n<script>\n  export default {\n    data() {\n      return {\n        modules: ["wanRate"],\n        setModuleName: "wanRate",\n        res: "",\n        resSet: "",\n        successMsg: false,\n        errorMsg: false,\n        costomError0: "0也可以是失败啦",\n        successCode: 0,\n        successMsgOptions: [\n          "成功啦",\n          "是的成功了",\n          { value: false, label: "不提示成功哦" }\n        ],\n        errorMsgOptions: [\n          "失败啦",\n          "是的失败了",\n          { value: false, label: "不提示失败哦" }\n        ],\n        options: ["wanRate", "workMode", "apStatus"]\n      };\n    },\n    methods: {\n      getModule() {\n        this.$getModules(this.modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      },\n      setModule() {\n        let { successMsg, errorMsg, costomError0 } = this;\n        this.$setModules(\n          { [this.setModuleName]: {} },\n          {\n            successMsg,\n            errorMsg,\n            costomErrorObj: { 0: costomError0 }\n          }\n        ).then(res => {\n          // 获取数据\n          this.resSet = res;\n        });\n      }\n    },\n    watch: {\n      successCode(val) {\n        this.$setHttpConfig({ successCode: val });\n      }\n    }\n  };\n<\/script>\n')])])])],2),e._m(5),t("p",[e._v("使用 $getModules 获取多模块数据，同时返回多个模块的数据。适配模块化接口。 参数支持对象或数组，如果是对象则不进行转换，直接调用 post 方式获取 若是数据是数组则，对数组进行转换成可用的对象。")]),t("demo-block",[t("template",{slot:"source"},[t("mo-demo1")],1),t("template",{slot:"highlight"},[t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"html"}},[e._v('<v-form>\n  <v-form-item label="对象形式">\n    <v-button @click="getObjectModule" size="S" name="getObjectModule">获取</v-button>\n  </v-form-item>\n  <v-form-item label="数组形式">\n    <v-button @click="getArrModule" size="S" name="getArrModule">获取</v-button>\n  </v-form-item>\n  <v-form-item label="数组中对象形式">\n    <v-button @click="getArrObjModule" size="S" name="getArrObjModule">获取</v-button>\n  </v-form-item>\n  <v-form-item label="结果"> {{ res }} </v-form-item>\n</v-form>\n\n<script>\n  export default {\n    data() {\n      return {\n        res: null\n      };\n    },\n    methods: {\n      getObjectModule() {\n        let modules = {\n          wanRate: "",\n          workMode: ""\n        };\n        this.$getModules(modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      },\n\n      getArrModule() {\n        let modules = ["wanRate", "workMode"];\n        this.$getModules(modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      },\n      getArrObjModule() {\n        let modules = [\n          {\n            module: "wanRate",\n            arg1: ""\n          },\n          "workMode"\n        ];\n        this.$getModules(modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      }\n    }\n  };\n<\/script>\n')])])])],2),e._m(6),e._m(7),t("demo-block",[t("template",{slot:"source"},[t("mo-demo2")],1),t("template",{slot:"highlight"},[t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"html"}},[e._v('<v-form>\n  <v-form-item label="对象形式">\n    <v-button @click="getObjectModule" size="S" name="getObjectModule1">获取</v-button>\n  </v-form-item>\n  <v-form-item label="数组形式">\n    <v-button @click="getArrModule" size="S" name="getArrModule1">获取</v-button>\n  </v-form-item>\n  <v-form-item label="数组中对象形式">\n    <v-button @click="getArrObjModule" size="S" name="getArrObjModule1">获取</v-button>\n  </v-form-item>\n  <v-form-item label="结果"> {{ res }} </v-form-item>\n</v-form>\n\n<script>\n  export default {\n    data() {\n      return {\n        res: null\n      };\n    },\n    methods: {\n      getObjectModule() {\n        let modules = {\n          wanRate: "",\n          workMode: ""\n        };\n        this.$setModules(modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      },\n\n      getArrModule() {\n        let modules = ["wanRate", "workMode"];\n        this.$getModules(modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      },\n      getArrObjModule() {\n        let modules = [\n          {\n            module: "wanRate",\n            arg1: ""\n          },\n          "workMode"\n        ];\n        this.$getModules(modules).then(res => {\n          // 获取数据\n          this.res = res;\n        });\n      }\n    }\n  };\n<\/script>\n')])])])],2),e._m(8),e._m(9),e._m(10),e._m(11),e._m(12),e._m(13),e._m(14),e._m(15),t("demo-block",[t("template",{slot:"source"},[t("mo-demo3")],1),t("template",{slot:"highlight"},[t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"html"}},[e._v('<v-form>\n  <v-form-item label="successCode" description="可以修改开始的配置">\n    <v-radio v-model="successCode" :options="[0, 1]" name="successCode2"></v-radio>\n  </v-form-item>\n\n  <v-form-item label="setModules">\n    <v-button @click="setModule" size="S"  name="setModule2">设置</v-button>\n  </v-form-item>\n  <v-form-item label="结果"> {{ resSet }} </v-form-item>\n</v-form>\n\n<script>\n  export default {\n    data() {\n      return {\n        modules: ["wanRate"],\n        setModuleName: "wanRate",\n        res: "",\n        resSet: "",\n        successMsg: false,\n        errorMsg: false,\n        costomError0: "0也可以是失败啦",\n        successCode: 0,\n        options: ["wanRate", "workMode", "apStatus"]\n      };\n    },\n    methods: {\n      setModule() {\n        let { successMsg, errorMsg, costomError0 } = this;\n        this.$setModules(\n          { [this.setModuleName]: {} },\n          {\n            successMsg,\n            errorMsg,\n            costomErrorObj: { 0: costomError0 }\n          }\n        ).then(res => {\n          // 获取数据\n          this.resSet = res;\n        });\n      }\n    },\n    watch: {\n      successCode(val) {\n        this.$setHttpConfig({ successCode: val });\n      }\n    }\n  };\n<\/script>\n')])])])],2),t("side-link")],1)},n=[function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"http"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[e._v("¶")]),e._v(" http")])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"an-xu-yin-ru"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#an-xu-yin-ru"}},[e._v("¶")]),e._v(" 按需引入")])},function(){var e=this,t=e._self._c;return t("pre",[t("code",{staticClass:"language-js"},[e._v('import Http from "@reasy-team/reasy-ui-function/dist/http.js";\n\nVue.use(Http，{\n  // 错误的信息对象\n  commonErrMsg: {},\n  // 获取的数据的接口\n  getModulesUrl: "/goform/getModules",\n  // 设置的统一的数据接口\n  setModulesUrl: "/goform/setModules",\n  // 设置返回的字段名\n  errorCodeKey: "errCode",\n  // 成功的状态码\n  successCode: 0,\n  // 信息的提示方式，此配置必须是挂载在vue上的，而且必须拥有成功和失败的错方法\n  msgHintType: "$notify",\n  // 失败的默认提示\n  defaultErrMsg: _("保存失败"),\n  // 成功的默认提示\n  defaultSuccessMsg: _("保存成功")\n});\n\n')])])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"shi-yong-pei-zhi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shi-yong-pei-zhi"}},[e._v("¶")]),e._v(" 使用配置")])},function(){var e=this,t=e._self._c;return t("p",[e._v("http 的相关方法，都挂在在 "),t("code",[e._v("vue.prototype")]),e._v(" 上面，支持"),t("code",[e._v("$getModules")]),e._v(","),t("code",[e._v("$setModules")]),e._v(","),t("code",[e._v("$get")]),e._v(","),t("code",[e._v("$post")]),e._v(","),t("code",[e._v("$setHttpConfig")]),e._v(" 方法。 使用时，直接使用"),t("code",[e._v("this.xxx")]),e._v("即可。")])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"huo-qu-mo-kuai-shu-ju-getmodule"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#huo-qu-mo-kuai-shu-ju-getmodule"}},[e._v("¶")]),e._v(" 获取模块数据 getModule")])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"she-zhi-mo-kuai-shu-ju-setmodules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#she-zhi-mo-kuai-shu-ju-setmodules"}},[e._v("¶")]),e._v(" 设置模块数据 setModules")])},function(){var e=this,t=e._self._c;return t("p",[e._v("可以使用"),t("code",[e._v("$setModules")]),e._v("设置模块数据，参数包含两项，"),t("code",[e._v("submitdata")]),e._v("配置提交数据，和 options 对象。 "),t("code",[e._v("options")]),e._v("中可以包含以下几项。 "),t("code",[e._v("successMsg")]),e._v(" 字符串格式，成功词条，为 false 时不提示成功， "),t("code",[e._v("errorMsg")]),e._v(" 字符串格式，失败词条，为 false 时不提示失败， "),t("code",[e._v("costomErrorObj")]),e._v(" 对象格式 错误提示对象，不配置时使用通用的。")])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"get-qing-qiu-fang-shi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-qing-qiu-fang-shi"}},[e._v("¶")]),e._v(" get 请求方式")])},function(){var e=this,t=e._self._c;return t("p",[e._v("需用调用不是通用获取模块化接口时可以使用 get 方法。该方法有三个参数，"),t("code",[e._v("url")]),e._v("get 的 url，"),t("code",[e._v("data")]),e._v("请求时附带的参数，以及配置参数。")])},function(){var e=this,t=e._self._c;return t("p",[t("code",[e._v("url")]),e._v(" 可以包含?也可以直接附带部分参数。 "),t("code",[e._v("data")]),e._v(" 包含的参数注意不要包含对象等引用类型，不会自动进行转换，如需要请自行转换。 配置参数中可以包含以下几项。 "),t("code",[e._v("successMsg")]),e._v(" 字符串格式，成功词条，为 false 时不提示成功，默认为 false， "),t("code",[e._v("errorMsg")]),e._v(" 字符串格式，失败词条，为 false 时不提示失败，默认为 false。")])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"post-qing-qiu-fang-shi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#post-qing-qiu-fang-shi"}},[e._v("¶")]),e._v(" post 请求方式")])},function(){var e=this,t=e._self._c;return t("p",[e._v("需用调用不是通用获取模块化接口时可以使用 get 方法。该方法有三个参数，"),t("code",[e._v("url")]),e._v("post 的 url，"),t("code",[e._v("submitData")]),e._v("请求时附带的参数，以及配置参数。")])},function(){var e=this,t=e._self._c;return t("p",[t("code",[e._v("url")]),e._v(" 。 "),t("code",[e._v("submitData")]),e._v(" 包含的参数注意不要包含对象等引用类型，不会自动进行转换，如需要请自行转换。 配置参数中可以包含以下几项。 "),t("code",[e._v("successMsg")]),e._v(" 字符串格式，成功词条，为 false 时不提示成功，默认为配置的成功的提示语或保存成功， "),t("code",[e._v("errorMsg")]),e._v(" 字符串格式，失败词条，为 false 时不提示失败，默认为为配置的失败提示语或保存失败。 "),t("code",[e._v("costomErrorObj")]),e._v("，对象格式，错误提示对象")])},function(){var e=this,t=e._self._c;return t("h2",{attrs:{id:"xiu-gai-mo-ren-can-shu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xiu-gai-mo-ren-can-shu"}},[e._v("¶")]),e._v(" 修改默认参数")])},function(){var e=this,t=e._self._c;return t("p",[e._v("除了首次注册时，后续也可以修改默认的配置参数。使用"),t("code",[e._v("$setHttpConfig")]),e._v("方法,配置相关的方法。")])}],r=s("5530"),a=s("ade3"),l={name:"component-doc",components:{"mo-demo0":function(){var e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",[s("v-form-item",{attrs:{label:"getModules"}},[s("v-checkbox-group",{attrs:{options:e.options,name:"modules"},model:{value:e.modules,callback:function(t){e.modules=t},expression:"modules"}}),e._v(" "),s("v-button",{attrs:{size:"S",name:"getModule"},on:{click:e.getModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"结果"}},[e._v(" "+e._s(e.res)+" ")]),e._v(" "),s("v-form-item",{attrs:{label:"setModules"}},[s("v-radio",{attrs:{options:e.options,name:"setModuleName"},model:{value:e.setModuleName,callback:function(t){e.setModuleName=t},expression:"setModuleName"}})],1),e._v(" "),s("v-form-item",{attrs:{label:"successMsg"}},[s("v-radio",{attrs:{options:e.successMsgOptions,name:"successMsg"},model:{value:e.successMsg,callback:function(t){e.successMsg=t},expression:"successMsg"}})],1),e._v(" "),s("v-form-item",{attrs:{label:"successCode",description:"一般不用单独配置，可以整个项目全局配置"}},[s("v-radio",{attrs:{options:[0,1],name:"successCode"},model:{value:e.successCode,callback:function(t){e.successCode=t},expression:"successCode"}})],1),e._v(" "),s("v-form-item",{attrs:{label:"errorMsg"}},[s("v-radio",{attrs:{options:e.errorMsgOptions,name:"errorMsg"},model:{value:e.errorMsg,callback:function(t){e.errorMsg=t},expression:"errorMsg"}})],1),e._v(" "),s("v-form-item",{attrs:{label:"0时候的失败的词条",description:"自定义错误对象"}},[s("v-input",{attrs:{name:"costomError0"},model:{value:e.costomError0,callback:function(t){e.costomError0=t},expression:"costomError0"}})],1),e._v(" "),s("v-form-item",{attrs:{label:"setModules"}},[s("v-button",{attrs:{size:"S",name:"setModule"},on:{click:e.setModule}},[e._v("设置")])],1),e._v(" "),s("v-form-item",{attrs:{label:"结果"}},[e._v(" "+e._s(e.resSet)+" ")])],1)],1)},t=[],s={data:function(){return{modules:["wanRate"],setModuleName:"wanRate",res:"",resSet:"",successMsg:!1,errorMsg:!1,costomError0:"0也可以是失败啦",successCode:0,successMsgOptions:["成功啦","是的成功了",{value:!1,label:"不提示成功哦"}],errorMsgOptions:["失败啦","是的失败了",{value:!1,label:"不提示失败哦"}],options:["wanRate","workMode","apStatus"]}},methods:{getModule:function(){var e=this;this.$getModules(this.modules).then((function(t){e.res=t}))},setModule:function(){var e=this,t=this.successMsg,s=this.errorMsg,o=this.costomError0;this.$setModules(Object(a["a"])({},this.setModuleName,{}),{successMsg:t,errorMsg:s,costomErrorObj:{0:o}}).then((function(t){e.resSet=t}))}},watch:{successCode:function(e){this.$setHttpConfig({successCode:e})}}};return Object(r["a"])({render:e,staticRenderFns:t},s)}(),"mo-demo1":function(){var e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",[s("v-form-item",{attrs:{label:"对象形式"}},[s("v-button",{attrs:{size:"S",name:"getObjectModule"},on:{click:e.getObjectModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"数组形式"}},[s("v-button",{attrs:{size:"S",name:"getArrModule"},on:{click:e.getArrModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"数组中对象形式"}},[s("v-button",{attrs:{size:"S",name:"getArrObjModule"},on:{click:e.getArrObjModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"结果"}},[e._v(" "+e._s(e.res)+" ")])],1)],1)},t=[],s={data:function(){return{res:null}},methods:{getObjectModule:function(){var e=this,t={wanRate:"",workMode:""};this.$getModules(t).then((function(t){e.res=t}))},getArrModule:function(){var e=this,t=["wanRate","workMode"];this.$getModules(t).then((function(t){e.res=t}))},getArrObjModule:function(){var e=this,t=[{module:"wanRate",arg1:""},"workMode"];this.$getModules(t).then((function(t){e.res=t}))}}};return Object(r["a"])({render:e,staticRenderFns:t},s)}(),"mo-demo2":function(){var e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",[s("v-form-item",{attrs:{label:"对象形式"}},[s("v-button",{attrs:{size:"S",name:"getObjectModule1"},on:{click:e.getObjectModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"数组形式"}},[s("v-button",{attrs:{size:"S",name:"getArrModule1"},on:{click:e.getArrModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"数组中对象形式"}},[s("v-button",{attrs:{size:"S",name:"getArrObjModule1"},on:{click:e.getArrObjModule}},[e._v("获取")])],1),e._v(" "),s("v-form-item",{attrs:{label:"结果"}},[e._v(" "+e._s(e.res)+" ")])],1)],1)},t=[],s={data:function(){return{res:null}},methods:{getObjectModule:function(){var e=this,t={wanRate:"",workMode:""};this.$setModules(t).then((function(t){e.res=t}))},getArrModule:function(){var e=this,t=["wanRate","workMode"];this.$getModules(t).then((function(t){e.res=t}))},getArrObjModule:function(){var e=this,t=[{module:"wanRate",arg1:""},"workMode"];this.$getModules(t).then((function(t){e.res=t}))}}};return Object(r["a"])({render:e,staticRenderFns:t},s)}(),"mo-demo3":function(){var e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",[s("v-form-item",{attrs:{label:"successCode",description:"可以修改开始的配置"}},[s("v-radio",{attrs:{options:[0,1],name:"successCode2"},model:{value:e.successCode,callback:function(t){e.successCode=t},expression:"successCode"}})],1),e._v(" "),s("v-form-item",{attrs:{label:"setModules"}},[s("v-button",{attrs:{size:"S",name:"setModule2"},on:{click:e.setModule}},[e._v("设置")])],1),e._v(" "),s("v-form-item",{attrs:{label:"结果"}},[e._v(" "+e._s(e.resSet)+" ")])],1)],1)},t=[],s={data:function(){return{modules:["wanRate"],setModuleName:"wanRate",res:"",resSet:"",successMsg:!1,errorMsg:!1,costomError0:"0也可以是失败啦",successCode:0,options:["wanRate","workMode","apStatus"]}},methods:{setModule:function(){var e=this,t=this.successMsg,s=this.errorMsg,o=this.costomError0;this.$setModules(Object(a["a"])({},this.setModuleName,{}),{successMsg:t,errorMsg:s,costomErrorObj:{0:o}}).then((function(t){e.resSet=t}))}},watch:{successCode:function(e){this.$setHttpConfig({successCode:e})}}};return Object(r["a"])({render:e,staticRenderFns:t},s)}()}},u=l,i=s("2877"),c=Object(i["a"])(u,o,n,!1,null,null,null);t["default"]=c.exports}}]);