(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mixin-page"],{"168d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("v-page",{attrs:{pageTitle:e.pageTitle,formRules:e.rules,isSubmitLoading:e.isSubmitLoading,isInitLoading:e.isInitLoading},on:{submit:e.submit},scopedSlots:e._u([{key:"formContent",fn:function(){return[t("v-form-item",{attrs:{label:"lanIP",prop:"lanIP"}},[t("v-input",{attrs:{name:"lanIP"},model:{value:e.formData.lanIP,callback:function(t){e.$set(e.formData,"lanIP",t)},expression:"formData.lanIP"}})],1),t("v-form-item",{attrs:{label:"lan",prop:"lanMask"}},[t("v-input",{attrs:{name:"lanMask"},model:{value:e.formData.lanMask,callback:function(t){e.$set(e.formData,"lanMask",t)},expression:"formData.lanMask"}})],1),t("v-form-item",{attrs:{label:"remark",prop:"remark"}},[t("v-input",{attrs:{name:"remark"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),t("v-form-item",{attrs:{label:""}},[t("v-button",{attrs:{size:"S",name:"refresh"},on:{click:e.changeRefresh}},[e._v(e._s(e.refreshFlag?"停止自动刷新":"启动自动刷新"))])],1)]},proxy:!0}])})},i=[],s=a("ade3"),n=(a("99af"),a("d3b7"),a("159b"),a("c740"),a("b23c")),o={data:function(){return this.refreshTimer=null,{initModules:[],saveMsgObj:{successMsg:"",errMsg:""},isSubmitLoading:!1,isInitLoading:!0,refreshFlag:!1,refreshTime:5e3,trimKey:["remark","PolicyName"],isRefreshAfterFail:!0,pageRules:[]}},created:function(){this.initRefreshFlag=this.refreshFlag,this.getData(!0),this.refresh(this.refreshFlag),this.setPageHelp()},methods:{getData:function(e){var t=this,a=this.modules;e&&(a=a.concat(this.initModules)),this.$getModules(a).then((function(a){t.isInitLoading=!1,t.formatData(a,e)}))},formatData:function(e){return e},_trimStr:function(e){e&&this.trimKey.forEach((function(t){e[t]&&(e[t]=Object(n["ab"])(e[t]))}))},beforeSubmit:function(e,t){return this._trimStr(e),Object(s["a"])({},t||this.modules[0],e)},submit:function(e,t,a){var r=this,i="";return this.pageRules.findIndex((function(t){return"string"===typeof t?"function"===typeof r[t]&&(i=r[t](e)):"function"===t&&(i=t(e)),i})),i?(this.$notify.error(i),!1):(e=this.beforeSubmit(e,t),!1!==e&&(this.isSubmitLoading=!0,void this.$setModule(e,a).then((function(e){r.isSubmitLoading=!1,(0==e.errCode||r.isRefreshAfterFail)&&r.getRefreshData()}))))},getRefreshData:function(){this.getData(!1)},refresh:function(e,t){var a=this;this.refreshTimer&&clearInterval(this.refreshTimer),e&&(t&&this.getRefreshData(),this.refreshTimer=setInterval((function(){a.getRefreshData()}),this.refreshTime))},setPageHelp:function(){}},watch:{refreshFlag:function(e){this.refresh(this.initRefreshFlag&&e)}},beforeDestroy:function(){this.refreshFlag&&this.refresh(!1)}},f={mixins:[o],data:function(){return{formData:{lanIP:"192.168.1.1",lanMask:"255.255.255.0"},rules:{lanIP:{type:"ip"},lanMask:{type:"mask"}},modules:["lanCfg"],initModules:["wanCfg"],refreshFlag:!1,pageTitle:_("page")}},methods:{formatData:function(e){e.lanCfg.remark=e.lanCfg.remark||"",this.formData=e.lanCfg,this.wanCfg=e.wanCfg},changeRefresh:function(){this.refreshFlag=!this.refreshFlag}}},l=f,h=a("2877"),u=Object(h["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports}}]);